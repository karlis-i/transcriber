<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Music Transcriber & Trainer</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
            crossorigin="anonymous"
        >
    </head>

    <body>

        <!-- App menu -->
        <nav class="navbar bg-dark border-bottom border-body navbar-expand-lg" data-bs-theme="dark">
            <div class="container-lg">

                <!-- navbar brand -->
                <span class="navbar-brand mb-0 h1">Music Transcriber &amp; Trainer</span>

                <!-- hamburger -->
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
                    aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- menu -->
                <div class="collapse navbar-collapse" id="navbarNav">
                    <ul class="navbar-nav">
                        <li class="nav-item dropdown">

                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                File
                            </a>

                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#">Load Audio File</a></li>
                                <li><a class="dropdown-item" href="#">Quit</a></li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">

                            <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                Help
                            </a>

                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#modalAbout">About</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <!-- waveform -->
        <div>
            <div class="container-lg">
                [waveform]
            </div>
        </div>


        <!-- transport -->
        <div>
            <div class="container-lg">
                <div class="row">
                    <div class="col-12 col-lg-6 order-lg-2 text-center">
                        <!-- 50% C -->
                        <div class="">1:23:45 of 5:43:21</div>
                        <div>
                            <button type="button" class="btn btn-secondary btn-lg rounded-circle" aria-label="Rewind to Start">&#x23EE;</button>
                            <button type="button" class="btn btn-secondary btn-lg rounded-circle" aria-label="Rewind to Selection Start / Previous Marker">&#x23EA;</button>
                            <button type="button" class="btn btn-primary btn-lg rounded-circle" aria-label="Play / Pause">&#x25B6; / &#x23F8;</button>
                            <button type="button" class="btn btn-secondary btn-lg rounded-circle" aria-label="Forward to Selection End / Next Marker">&#x23E9;</button>
                            <button type="button" class="btn btn-secondary btn-lg rounded-circle" aria-label="Forward to End">&#x23ED;</button>
                        </div>
                        <div>
                            <label for="audioFile" class="form-label">File:</label>
                            <input class="form-control" type="file" id="audioFile">
                        </div>
                    </div>
                    <div class="col-12 col-lg-3 order-lg-1">
                        <!-- 25% L -->
                        <div class="mb-3">
                            <label for="rangeVolume" class="form-label">Volume</label>
                            <output for="rangeVolume" id="outputVolume" aria-hidden="true" class="form-text float-end">100</output>
                            <input type="range" class="form-range" min="0" max="127" step="1" value="100" id="rangeVolume">
                        </div>
                    </div>
                    <div class="col-12 col-lg-3 order-lg-3">
                        <!-- 25% R -->
                        .
                    </div>
                </div>
            </div> <!-- .container-lg -->
        </div>

        Volume Down
        Volume Level
        Volume Up

        Speed Down
        Speed Level
        Speed Up

        Pitch Down
        Pitch Level
        Pitch Up

        Zoom Out
        Zoom Level
        Zoom In

        Mono
        Stereo
        Left Channel Only
        Right Channel Only
        Center Only
        Stereo Minus Right Channel
        Stereo Minus Left Channel

        <!-- Help > About -->
        <div class="modal fade" id="modalAbout" tabindex="-1" aria-labelledby="modalAboutLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h1 class="modal-title fs-5" id="modalAboutLabel">About</h1>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <p>Music Transcriber &amp; Trainer</p>
                        <p>v0.1</p>
                        <p><a href="https://www.github.com/karlis-i" target="_blank">https://www.github.com/karlis-i</a></p>
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">OK</button>
                    </div>
                </div>
            </div>
        </div>


        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
            crossorigin="anonymous"
        ></script>

        <script>

            // Volume
            let volume = 100;
            let volumeInput = null;
            let volumeOutput = null;

            // Speed
            // Pitch

            function setupRangeOutputs() {
                // Volume

                // assign DOM elements
                volumeInput = document.getElementById('rangeVolume');
                volumeOutput = document.getElementById('outputVolume');

                // display init value
                volumeOutput.textContent = volumeInput.value;

                // start listening
                volumeInput.addEventListener('input', function() {
                    volume = this.value;
                    volumeOutput.textContent = this.value;
                    console.log("Volume", volume);
                });
            }

            document.addEventListener("DOMContentLoaded", function () {
                setupRangeOutputs();
            });
        </script>
    </body>
</html>
